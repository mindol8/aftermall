use autoinmall;

drop table USER;
drop table ITEM;
drop table CART;
drop table CATEGORY;
drop table MODEL;
drop table MANUFACTURER;

CREATE TABLE USER(
    USER_ID VARCHAR(20),
    USER_PW VARCHAR(512),
    SALT VARCHAR(512),
    NAME VARCHAR(50),
    EMAIL VARCHAR(50),
    PHONE VARCHAR(30),
    ADDRESS VARCHAR(50),
    ZIPCODE VARCHAR(20),
    LOCK_ACC INT(1),
    TOKEN INT(1),
    PRIMARY KEY(USER_ID)
);

CREATE TABLE ITEM(
    ITEM_NAME VARCHAR(30),
    PIN VARCHAR(256),
    PARTS_NUM VARCHAR(30),
    VOLUME INT(20),
    PRICE VARCHAR(20),
    ITEM_DESC TEXT(10000),
    RATE INT(5),
    REVIEW_NUM INT(30),
    PRIMARY KEY(PIN)   
);

CREATE TABLE MALLIMG(
    IMG1 VARCHAR(50) ,
    IMG2 VARCHAR(50),
    IMG3 VARCHAR(50) ,
    URL1 VARCHAR(500),
    URL2 VARCHAR(500),
    URL3 VARCHAR(500),
    IMG_SET VARCHAR(30),
    MAIN_IMG VARCHAR(50),
    PRIMARY KEY(IMG_SET)
);
CREATE TABLE REVIEW(
    USER_NAME VARCHAR(50),
    USER_ID VARCHAR(20),
    ITEM_PIN VARCHAR(256),
    REVIEW TEXT(10000),
    RATE INT(5),
    REVIEW_ID VARCHAR(300),
    REVIEW_DATE DATE,
    PRIMARY KEY(REVIEW_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    FOREIGN KEY(ITEM_PIN) REFERENCES ITEM(PIN)
);

CREATE TABLE CART(
    CART_ID VARCHAR(30) default 'before',
    ID VARCHAR(20),
    ITEM VARCHAR(50),
    PRICE VARCHAR(20),
    PIN VARCHAR(256),
    VOLUME INT(20),
    PARTS_NUM VARCHAR(30),
    PRIMARY KEY (CART_ID),
    FOREIGN KEY (ID) REFERENCES USER (USER_ID)    
);

CREATE TABLE RECEIPT(
    RECIPIENT VARCHAR(50),
    ORDER_NUM VARCHAR(50),
    PIN VARCHAR(50),
    ADDRESS VARCHAR(50),
    ZIPCODE VARCHAR(20),
    EMAIL VARCHAR(50),
    TOTAL FLOAT(50),
    DATE varchar(30),
    CARD_APPLY_NUM VARCHAR(50),
    CART_NUM VARCHAR(30),
    PRIMARY KEY (ORDER_NUM),
    FOREIGN KEY (RECIPIENT) REFERENCES USER (USER_ID)    
);

CREATE TABLE ITEMINFO(
    IMG1 VARCHAR(50),
    IMG2 VARCHAR(50),
    IMG3 VARCHAR(50),
    IMG4 VARCHAR(50),
    IMG5 VARCHAR(50),
    FILE_LIST TEXT(8000),
    BRAND_I VARCHAR(50), /*상품 브랜드*/
    MAIN_C VARCHAR(30), /*메인카테고리*/
    SUB_C VARCHAR(30), /*서브 카테고리*/
    BASE_M VARCHAR(30), /*model*/
    DETAIL_M VARCHAR(50), /*version*/
    CAR_M VARCHAR(30), /*자동ㅊ차 브랜드*/
    ITEM_M VARCHAR(30), /*상품 제조사*/
    ITEM_NUM VARCHAR(256), /*pin*/
    PRIMARY KEY (ITEM_NUM),
    FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (PIN)
);

CREATE TABLE CATEGORY_LIST(
    MAIN VARCHAR(30),
    SUB VARCHAR(50),
    ID VARCHAR(90),
    PRIMARY KEY (ID)
);

CREATE TABLE CAR_BRAND(
    NAME VARCHAR(30),
    IMG VARCHAR(50),
    PRIMARY KEY(NAME)
);

CREATE TABLE ITEM_BRAND(
    NAME VARCHAR(50),
    IMG VARCHAR(50),
    COUNTRY VARCHAR(30),
    CITY VARCHAR(30),
  
    PRIMARY KEY(NAME)
);

CREATE TABLE RANKING(
    THEME VARCHAR(256),
    TOP1 VARCHAR(256),
    TOP2 VARCHAR(256),
    TOP3 VARCHAR(256),
    TOP4 VARCHAR(256),
    TOP5 VARCHAR(256),
    PRIMARY KEY(THEME)
);

